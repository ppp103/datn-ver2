<form novalidate (ngSubmit)="changeEmail()" [formGroup]="rfEmail">
  <div class="-mx-3 md:flex flex-col mb-2 w-full">
    <div class="md:w-full px-3">
      <label class="block uppercase tracking-wide text-gray-600 text-xs font-bold mb-2"
             for="email">
        Email mới
      </label>
      <input
        class="appearance-none border rounded-md w-full py-2 px-3 my-1 text-gray-600 bg-gray-200 leading-tight outline-none focus:border-blue-500"
        id="email"
        type="email"
        placeholder="Nhập email mới"
        autocomplete="off"
        formControlName="email"
        required
      >
      <p class="text-red-500 text-xs italic"
         *ngIf="email && email?.hasError('required') && (email?.dirty || email?.touched)"
      >Vui lòng điền trường này</p>
      <p class="text-red-500 text-xs italic"
         *ngIf="email && email?.hasError('pattern') && (email?.dirty || email?.touched)"
      >Email sai định dạng</p>
      <p class="text-red-500 text-xs italic"
         *ngIf="email && email?.hasError('emailExists')&& email.value!=userProfile.email && (email?.dirty || email.touched)">
        Email này đã tồn tại</p>
      <p class="text-red-500 text-xs italic"
         *ngIf="email && email.value==userProfile.email && (email?.dirty || email?.touched)"
      >Email trùng với email cũ</p>
    </div>
    <div class="md:w-full px-3">
      <label class="block uppercase tracking-wide text-gray-600 text-xs font-bold mb-2"
             for="current-pwd">
        Mật khẩu <span class="mx-1 text-lg text-gray-700 cursor-pointer" (click)="togglePwd()">
        <i [ngClass]="hiddenPwd ? 'fa fa-eye-slash':'fa fa-eye'"></i>
      </span>
      </label>
      <input
        class="appearance-none border rounded-md w-full py-2 px-3 my-1 text-gray-600 bg-gray-200 leading-tight outline-none focus:border-blue-500"
        id="current-pwd"
        [type]="hiddenPwd? 'password':'text'"
        placeholder="Mật khẩu"
        autocomplete="off"
        formControlName="currentPassword"
        required
      >
      <p class="text-red-500 text-xs italic"
         *ngIf="currentPassword && currentPassword?.hasError('required') && currentPassword?.touched"
      >Mật khẩu không được để trống</p>
    </div>
  </div>
  <div class="my-5 flex justify-end px-6">
    <!-- *ngIf="rfEmail.valid" -->
    <button [disabled]="rfEmail.invalid"  class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded cursor-pointer"
            type="submit">Lưu
    </button>
  </div>
  <!-- <div class="my-5 flex justify-end px-6">
    <button [disabled]="rfEmail.invalid" class="btn btn-primary"
            type="submit">Lưu
    </button>
  </div> -->
</form>
