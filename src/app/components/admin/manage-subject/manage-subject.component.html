<div class="bg-blue-600 md:pt-32 pb-32 pt-12">
    <div class="px-4 md:px-10 mx-auto w-full">
      <div *ngIf="isPartPage" (click)="goBack()" class="text-white cursor-pointer hover:underline"><i class="fa fa-long-arrow-left"></i><span
        class="mx-2">Quay lại</span></div>
    </div>
  </div>
  <div class=" mx-auto w-full -m-24 card-content">
  
    <div class="flex flex-wrap mt-4 justify-center">
      <div class="w-full mb-12 xl:mb-0 px-4 max-w-5xl">
        <div class="relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded">
          <div class="rounded-t mb-0 px-4 py-3 border-0">
            <div class="flex flex-wrap items-center">
              <div class="relative w-full px-4 max-w-full flex-grow leading-8 mb-3 flex justify-between">
                <h3 class="font-semibold text-2xl text-gray-800">
                  Danh sách chủ đề
                </h3>
                <div>
                  <button
                  class="btn btn-primary"
                  (click)="openAddForm(null, 'add')"
                >
                  <i class="fas fa-plus-square"></i>
                  Thêm mới
                </button>
                </div>
              </div>
              <div class="flex flex-wrap flex-col w-full">
                <div class="flex flex-wrap flex-row">
  
                  <div class="relative w-full px-4 max-w-full flex-flow flex-basis">
                    <!-- <app-course-create (outputCourse)="fetchCourseAfterCRUD($event)"></app-course-create> -->
  
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="block w-full">
            <!-- Projects table -->
            <table
              class="items-center w-full bg-transparent border-collapse whitespace-no-wrap user-list block lg:table overflow-x-auto overflow-y-auto">
              <thead>
              <tr>
                <th
                  class="row-username px-6 bg-gray-100 text-gray-600 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-no-wrap font-semibold text-left">
                  STT
                </th>
  
                <th
                  class="row-name px-6 bg-gray-100 text-gray-600 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-no-wrap font-semibold text-left">
                  Tên chủ đề
                </th>  
                <th
                  class="row-action px-6 bg-gray-100 text-gray-600 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-no-wrap font-semibold text-center">
                  Thao tác
                </th>
              </tr>
              </thead>
  
              <tbody
                *ngFor="let topic of topics; let i=index"
              >
              <ng-container
              >
                <tr class="border hover:bg-gray-300 align-middle">
                  <td
                    class="border-t-0 px-6 align-middle border-l-0 border-r-0 text-md text-gray-500 whitespace-no-wrap p-4">
                    {{i + 1}}
                  </td>
  
                  <td class="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4">

                      <span class="w-fit" [ngClass]="topic.id === selectedUpdateId ?  'hidden': 'block'"
                      [ngClass]="{'hover:text-green-700' :  !isPartPage, 'cursor-pointer ' : !isPartPage}"
                      [matTooltip]="isPartPage ? '' : 'Xem nội dung'"
                      matTooltipPosition="above"
                      [routerLink]="topic.id"
                      >{{topic.name}}</span>
                      <input type="text" value="{{topic.name}}" class="w-full" (keyup.enter)="updateTopic(topic.id)" [(ngModel)]="topicName"
                             [ngClass]="topic.id === selectedUpdateId ?  'block border-b-2 border-blue-500 text-xl px-2 outline-none': 'hidden'"
                              [autofocus]="topic.id === selectedUpdateId">
                  </td>  
                  <td
                    class="border-t-0 px-1 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap text-center">
                  <button
                    class="bg-white shadow-md hover:bg-blue-500 hover:text-gray-200 transition duration-200 ease-in-out text-xs font-bold uppercase rounded outline-none focus:outline-none px-2 py-1"
                    type="button"
                    (click)="toggleInput(topic)"
                    *ngIf="selectedUpdateId!==topic.id"
                    tooltip="Thay đổi nội dung" placement="left" show-delay="100" hide-delay="100"
                  ><span><i class="fas fa-edit"></i></span>
                  </button>

                  <button
                    class="bg-white shadow-md hover:bg-blue-500 hover:text-gray-200 transition duration-200 ease-in-out text-xs font-bold uppercase rounded outline-none focus:outline-none px-2 py-1"
                    type="button"
                    (click)="updateTopic(topic.id)"
                    *ngIf="selectedUpdateId===topic.id"
                    tooltip="Lưu" placement="left" show-delay="100" hide-delay="100"
                  ><span><i class="fas fa-save"></i></span>
                  </button>

                  <button (click)="goToQuestionBySubject(topic.id)"
                    class="bg-white ml-2 shadow-md hover:bg-blue-500 hover:text-gray-200 transition duration-200 ease-in-out text-xs font-bold uppercase rounded outline-none focus:outline-none px-2 py-1"
                    type="button"
                    tooltip="Danh sách câu hỏi" placement="left" show-delay="100" hide-delay="100"
                  ><span>
                    <i class="fas fa-question-circle"></i>
                  </span>
                  </button>
                  </td>
                </tr>
              </ng-container>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  